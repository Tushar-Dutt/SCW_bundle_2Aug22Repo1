(this["webpackJsonpreact-scw-main"]=this["webpackJsonpreact-scw-main"]||[]).push([[0],{76:function(t,e){},77:function(t,e){},78:function(t,e,n){},80:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),i=n(3),r=n(26),I=n(27),l=n(28),o=n(30),s=n(31),u=n(29),d=n.n(u),m=n(4),Z=n(10),b=n(14),h=n(6),Y=n.n(h),W="STRAPI_CONFIG",j=("".concat("http://localhost:8081/api","/template/searchby/"),{Authorization:"Bearer ".concat("eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTgyMzE2MjEsImlhdCI6MTY1ODIzMTMyMSwiYXV0aF90aW1lIjoxNjU4MjI2Nzg4LCJqdGkiOiI1YTM3NjQ1MC0zODc2LTRhMTQtOGZhYS0xYzQ4ZWIwOWUzNDEiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiIzMTI5ZTVkYS01MGEyLTQwY2YtODAzNy0zNzY4YmI3MGJjNzIiLCJzZXNzaW9uX3N0YXRlIjoiMzAwZmM3NzYtNjRkYS00MDJmLTkwZTUtZjAwOTVjZDFkZmI5IiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjMwMGZjNzc2LTY0ZGEtNDAyZi05MGU1LWYwMDk1Y2QxZGZiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.GS5QGUH3CojdtZFApUMZeEHb_lk7TvjriN62UYHRZ45yA89PorLNC_cv3u4gi5QQMGdUKkSoV-Tqb9vs0WTTbU11GqAhJw0aKfMeKCjiCSlhor5DmexfHZwuDbk3PH1XKdQm5wec1Ql0RtqLASr7NHft9Ik327JP_k0bIiEdDgvsRjBxucHLFeQXo2f2bOcuri46aszH1e9b1HcFr0wwCCtWof_Eks74edkThHkzWXzCjQfk5e5n94ZAirXsxRntZzoCAhT1OoHy_J0r9S07kCfI0rhP-aokpU-wn64B-LIoG3S5KwWwCs8nFPYNPfqGvTPqP6SbbsBXNKGz-oRa6g")}),w=function(){var t=Object(i.a)(c.a.mark((function t(e){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.get("".concat("http://localhost:8081/api","/template/").concat(e));case 2:return n=t.sent,a=n.data,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(i.a)(c.a.mark((function t(e,n){var a,i,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&n||console.error(e,n),t.t0="",t.next=4,G();case 4:return t.t1=t.sent,a=t.t0.concat.call(t.t0,t.t1,"/content-manager/collection-types/api::").concat(e,".").concat(e,"/").concat(n),t.next=8,Y.a.get(a,O({},"EntKcToken"));case 8:return i=t.sent,r=i.data,t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),N=function(t){var e=window&&window.entando&&window.entando.keycloak&&window.entando.keycloak.authenticated?window.entando.keycloak.token:localStorage.getItem("token");return e?{headers:{Authorization:"".concat(t," ").concat(e)}}:"EntKcToken"===t?{headers:j}:{}},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Bearer",n=N(e);return Object(b.a)(Object(b.a)({},t),n)},T=function(){var t=Object(i.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.get(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRAPI_TARGET_URL:"http://localhost:1337",REACT_APP_PUBLIC_API_TARGET_URL:"http://localhost:8081",REACT_APP_STRAPI_API_URL:"http://localhost:1337",REACT_APP_PUBLIC_API_URL:"http://localhost:8081/api",REACT_APP_LOCAL_STRAPI_TOKEN:"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTgyMzE2MjEsImlhdCI6MTY1ODIzMTMyMSwiYXV0aF90aW1lIjoxNjU4MjI2Nzg4LCJqdGkiOiI1YTM3NjQ1MC0zODc2LTRhMTQtOGZhYS0xYzQ4ZWIwOWUzNDEiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiIzMTI5ZTVkYS01MGEyLTQwY2YtODAzNy0zNzY4YmI3MGJjNzIiLCJzZXNzaW9uX3N0YXRlIjoiMzAwZmM3NzYtNjRkYS00MDJmLTkwZTUtZjAwOTVjZDFkZmI5IiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjMwMGZjNzc2LTY0ZGEtNDAyZi05MGU1LWYwMDk1Y2QxZGZiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.GS5QGUH3CojdtZFApUMZeEHb_lk7TvjriN62UYHRZ45yA89PorLNC_cv3u4gi5QQMGdUKkSoV-Tqb9vs0WTTbU11GqAhJw0aKfMeKCjiCSlhor5DmexfHZwuDbk3PH1XKdQm5wec1Ql0RtqLASr7NHft9Ik327JP_k0bIiEdDgvsRjBxucHLFeQXo2f2bOcuri46aszH1e9b1HcFr0wwCCtWof_Eks74edkThHkzWXzCjQfk5e5n94ZAirXsxRntZzoCAhT1OoHy_J0r9S07kCfI0rhP-aokpU-wn64B-LIoG3S5KwWwCs8nFPYNPfqGvTPqP6SbbsBXNKGz-oRa6g"}).REACT_APP_STRAPI_CONFIG_BE_URL).then((function(t){return t})).catch((function(t){return t}));case 2:return e=t.sent,t.abrupt("return",p(e));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(i.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y.a.head(e).then((function(t){return t})).catch((function(t){return t}));case 2:return n=t.sent,t.abrupt("return",p(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=Object(i.a)(c.a.mark((function t(){var e,n,a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=localStorage.getItem(W)){t.next=14;break}return t.next=4,T();case 4:if(n=t.sent,a=n.data,n.isError||!a||!a.data||!a.data.baseUrl){t.next=14;break}return t.next=10,y(a.data.baseUrl);case 10:if(!(i=t.sent)||!i.data||200!==i.data.status||i.isError){t.next=14;break}return localStorage.setItem(W,a.data.baseUrl),t.abrupt("return",a.data.baseUrl);case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(t){var e=!1;return t.hasOwnProperty("toJSON")&&"Error"===t.toJSON().name&&(e=!0),{data:t,isError:e}},M=(n(78),n(0));function S(){return Object(M.jsxs)("div",{className:"msg-top well",children:[Object(M.jsx)("div",{children:Object(M.jsx)("div",{children:Object(M.jsxs)("strong",{children:[Object(M.jsx)("span",{className:"pficon pficon-warning-triangle-o"})," ","http://20.113.131.137:1337"," can't be reached. Please click ",Object(M.jsx)("a",{href:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STRAPI_TARGET_URL:"http://localhost:1337",REACT_APP_PUBLIC_API_TARGET_URL:"http://localhost:8081",REACT_APP_STRAPI_API_URL:"http://localhost:1337",REACT_APP_PUBLIC_API_URL:"http://localhost:8081/api",REACT_APP_LOCAL_STRAPI_TOKEN:"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI5NWNKaVRjejRGTU00RFU5YWhaa0lVS3ZiZ0xEUEhsRDM5N190UG9YSDV3In0.eyJleHAiOjE2NTgyMzE2MjEsImlhdCI6MTY1ODIzMTMyMSwiYXV0aF90aW1lIjoxNjU4MjI2Nzg4LCJqdGkiOiI1YTM3NjQ1MC0zODc2LTRhMTQtOGZhYS0xYzQ4ZWIwOWUzNDEiLCJpc3MiOiJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvL2F1dGgvcmVhbG1zL2VudGFuZG8iLCJhdWQiOlsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiLCJhY2NvdW50Il0sInN1YiI6ImM3NjgyODFmLTIxYTMtNDQyZC04OWMwLTY1OWVkMGE0ODA3YiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImVudGFuZG8td2ViIiwibm9uY2UiOiIzMTI5ZTVkYS01MGEyLTQwY2YtODAzNy0zNzY4YmI3MGJjNzIiLCJzZXNzaW9uX3N0YXRlIjoiMzAwZmM3NzYtNjRkYS00MDJmLTkwZTUtZjAwOTVjZDFkZmI5IiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vcXVpY2tzdGFydC4xNzIuNDAuMC4xNDIubmlwLmlvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1lbnRhbmRvIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsicG4tZDdhZTc4YjItMWYzMWNiZDktYWtoaWxlc2hwcmFqYXBhdGludi1lbnQtcHJvamVjdC10ZW1wbGF0ZS1zZXJ2ZXIiOnsicm9sZXMiOlsiZW50YW5kb0FwcCIsImV0LXNlY29uZC1yb2xlIiwiZXQtZmlyc3Qtcm9sZSJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjMwMGZjNzc2LTY0ZGEtNDAyZi05MGU1LWYwMDk1Y2QxZGZiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.GS5QGUH3CojdtZFApUMZeEHb_lk7TvjriN62UYHRZ45yA89PorLNC_cv3u4gi5QQMGdUKkSoV-Tqb9vs0WTTbU11GqAhJw0aKfMeKCjiCSlhor5DmexfHZwuDbk3PH1XKdQm5wec1Ql0RtqLASr7NHft9Ik327JP_k0bIiEdDgvsRjBxucHLFeQXo2f2bOcuri46aszH1e9b1HcFr0wwCCtWof_Eks74edkThHkzWXzCjQfk5e5n94ZAirXsxRntZzoCAhT1OoHy_J0r9S07kCfI0rhP-aokpU-wn64B-LIoG3S5KwWwCs8nFPYNPfqGvTPqP6SbbsBXNKGz-oRa6g"}).REACT_APP_STRAPI_CONFIG_FE_URL,target:"_blank",children:"here"})," to configure it."]})})}),Object(M.jsx)("div",{className:"mt-2",children:Object(M.jsx)("button",{bsStyle:"primary",onClick:function(){return window.location.reload()},children:"Reload Page"})})]})}var v=n(55);var k=function(t){var e=t.name,n=t.templateId,a=t.contentId,r=Object(m.useState)(null),I=Object(Z.a)(r,2),l=(I[0],I[1]),o=Object(m.useState)(null),s=Object(Z.a)(o,2),u=(s[0],s[1]),d=Object(m.useState)(null),b=Object(Z.a)(d,2),h=b[0],Y=b[1];return Object(m.useEffect)(Object(i.a)(c.a.mark((function t(){var i,r,I,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(n);case 2:return i=t.sent,t.next=5,C(e,a);case 5:return r=t.sent,t.next=8,G();case 8:I=t.sent,l(i),u(r),r&&i&&(Object.keys(r).length>0&&Object.keys(r).map((function(t){r[t]&&Array.isArray(r[t])?r[t]&&r[t][0]&&r[t][0].ext&&r[t].map((function(t){return t.url=I+t.url})):r[t]&&"object"===typeof r[t]&&r[t]&&r[t].ext&&"object"===typeof r[t]&&(r[t].url=I+r[t].url)})),o=v.render(i.contentShape,{content:r}),Y(o));case 12:case"end":return t.stop()}}),t)}))),[]),localStorage.getItem(W)?Object(M.jsx)(M.Fragment,{children:h?Object(M.jsx)("div",{dangerouslySetInnerHTML:{__html:h}}):Object(M.jsx)("h1",{children:"Loading..."})}):Object(M.jsx)(S,{})},z={name:"name",nameTwo:"nameTwo",selectedTemplateId:"selectedTemplateId",selectedContentId:"selectedContentId",selectedContentName:"selectedContentName"},J=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,I=new Array(a),l=0;l<a;l++)I[l]=arguments[l];return(t=e.call.apply(e,[this].concat(I))).getStrapiConfiguration=Object(i.a)(c.a.mark((function e(){var n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(W),e.next=3,T();case 3:if(n=e.sent,a=n.data,n.isError||!a||!a.data||!a.data.baseUrl){e.next=11;break}return e.next=9,y(a.data.baseUrl);case 9:(i=e.sent)&&i.data&&200===i.data.status&&!i.isError&&localStorage.setItem(W,a.data.baseUrl);case 11:t.render();case 12:case"end":return e.stop()}}),e)}))),t}return Object(I.a)(n,[{key:"attributeChangedCallback",value:function(t,e,n){if(!Object.values(z).includes(t))throw new Error("Untracked changed attribute: ".concat(t));this.mountPoint&&n!==e&&this.getStrapiConfiguration()}},{key:"connectedCallback",value:function(){this.mountPoint=document.createElement("div"),this.appendChild(this.mountPoint),this.getStrapiConfiguration()}},{key:"render",value:function(){var t=this.getAttribute(z.name),e=this.getAttribute(z.nameTwo),n=this.getAttribute(z.selectedTemplateId),a=this.getAttribute(z.selectedContentId),c=this.getAttribute(z.selectedContentName);d.a.render(Object(M.jsx)(k,{name:t,nameTwo:e,templateId:n,contentId:a,contentName:c}),this.mountPoint)}}],[{key:"observedAttributes",get:function(){return Object.values(z)}}]),n}(Object(s.a)(HTMLElement));customElements.get("my-single-widget")||customElements.define("my-single-widget",J)}},[[80,1,2]]]);
//# sourceMappingURL=main.20d94c41.chunk.js.map